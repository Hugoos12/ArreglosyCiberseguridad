<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="styles.css">
    <link href='https://cdn.jsdelivr.net/npm/boxicons@2.0.5/css/boxicons.min.css' rel='stylesheet'>

    <link rel="shortcut icon" type="image/x-icon" href="logo2.png">

    <style>
        .form__register-mode {
            display: none;
        }
    </style>

    <title>ArreglosCiberseguridad</title>  
</head>
<body>
    <div class="l-form">
        <div class="shape1"></div>
        <div class="shape2"></div>

        <div class="form">
            <img src="authentication.svg" alt="" class="form__img">

            <form action="inicio.html" class="form__content" onsubmit="return validateForm('login');">
                <h1 class="form__title">Iniciar sesión</h1>

                <div class="form__div form__div-one">
                    <div class="form__icon">
                        <i class='bx bx-user-circle'></i>
                    </div>

                    <div class="form__div-input">
                        <label for="username" class="form__label">Usuario</label>
                        <input type="text" id="username" class="form__input" required>
                    </div>
                </div>

                <div class="form__div form__div-input-email">
                    <div class="form__icon">
                        <i class='bx bx-envelope'></i>
                    </div>
                    <label for="email" class="form__label-email">Correo Electrónico</label>
                    <input type="email" id="email" class="form__input form__input-email" required>
                </div>

                <div class="form__div">
                    <div class="form__icon">
                        <i class='bx bx-lock'></i>
                    </div>

                    <div class="form__div-input">
                        <label for="password" class="form__label">Contraseña</label>
                        <input type="password" id="password" class="form__input" required>
                    </div>
                </div>
                <a href="#" class="form__forgot">Contraseña olvidada?</a>

                <div class="form__buttons">
                    <button type="submit" class="form__button form__button-login">Iniciar Sesión</button>
                </div>

                <a href="#" class="form__toggle" onclick="toggleForms()">Registro</a>

                <div class="form__social">
                    <span class="form__social-text">Iniciar sesión con</span>
                    <a href="#" class="form__social-icon"><i class='bx bxl-facebook' ></i></a>
                    <a href="#" class="form__social-icon"><i class='bx bxl-google' ></i></a>
                    <a href="#" class="form__social-icon"><i class='bx bxl-instagram' ></i></a>
                </div>
                
            </form>

            <form action="index.html" class="form__content form__register-mode" onsubmit="return validateForm('register');">
                <h1 class="form__title">Registro</h1>

                <div class="form__div form__div-one">
                    <div class="form__icon">
                        <i class='bx bx-user-circle'></i>
                    </div>

                    <div class="form__div-input">
                        <label for="register-username" class="form__label">Usuario</label>
                        <input type="text" id="register-username" class="form__input" required>
                    </div>
                </div>

                <div class="form__div form__div-input-email">
                    <div class="form__icon">
                        <i class='bx bx-envelope'></i>
                    </div>
                    <label for="register-email" class="form__label-email">Correo Electrónico</label>
                    <input type="email" id="register-email" class="form__input form__input-email" required>
                </div>

                <div class="form__div">
                    <div class="form__icon">
                        <i class='bx bx-lock'></i>
                    </div>

                    <div class="form__div-input">
                        <label for="register-password" class="form__label">Contraseña</label>
                        <input type="password" id="register-password" class="form__input" required>
                    </div>
                </div>

                <div class="form__buttons">
                    <button type="submit" class="form__button form__button-register">Registro</button>
                </div>

                <a href="#" class="form__toggle" onclick="toggleForms()">Iniciar sesión</a>

                <div class="form__social">
                    <span class="form__social-text">Registro con</span>
                    <a href="#" class="form__social-icon"><i class='bx bxl-facebook' ></i></a>
                    <a href="#" class="form__social-icon"><i class='bx bxl-google' ></i></a>
                    <a href="#" class="form__social-icon"><i class='bx bxl-instagram' ></i></a>
                </div>
            </form>
        </div>
    </div>

    <script>
        function toggleForms() {
            var loginForm = document.querySelector('.form__content:not(.form__register-mode)');
            var registerForm = document.querySelector('.form__register-mode');

            loginForm.classList.toggle('form__register-mode');
            registerForm.classList.toggle('form__register-mode');
        }

        function validateForm(formType) {
            var username;
            var password;

            if (formType === 'login') {
                username = document.getElementById('username').value;
                password = document.getElementById('password').value;
            } else if (formType === 'register') {
                username = document.getElementById('register-username').value;
                password = document.getElementById('register-password').value;
            }

            var usernameRegex = /^(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{6,}$/;
            var passwordRegex = /^(?=.*[A-Z\d\W_])[A-Za-z\d\W_]{7,}$/;
            var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

            if (!usernameRegex.test(username)) {
                alert("El usuario debe tener al menos 6 caracteres, una mayúscula y un número.");
                return false;
            }

            if (!passwordRegex.test(password)) {
                alert("La contraseña debe tener al menos 7 caracteres, una mayúscula, un número y un carácter especial.");
                return false;
            }

            // Verificación adicional para evitar correos como usuario o contraseña
            if (emailRegex.test(username) || emailRegex.test(password)) {
                alert("No se permiten direcciones de correo como usuario o contraseña.");
                return false;
            }

            return true;
        }
    </script>
    <script src="main.js"></script>
</body>
</html>
